% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nuisance_parameters.R
\name{nuisance_cf}
\alias{nuisance_cf}
\title{Cross-fitting of nuisance parameters}
\usage{
nuisance_cf(
  methods,
  Y,
  X,
  cf_mat,
  cv = 5,
  subset = NULL,
  store_models = c("no", "memory", "disk"),
  ensemble_type,
  quiet = TRUE,
  pb = NULL,
  pb_np = NULL
)
}
\arguments{
\item{methods}{List of methods to be used in \code{\link{ensemble}} estimation.}

\item{Y}{Vector of variable to be predicted.}

\item{X}{Matrix of covariates.}

\item{cf_mat}{Logical matrix with k columns of indicators representing the different folds.}

\item{cv}{Number of cross-validation folds when estimating ensemble model (default: 1).}

\item{subset}{Optional logical vector if only subset of data should be used for prediction.}

\item{store_models}{Vector of characters indicating where to save individual models for future processing.}

\item{ensemble_type}{Method for calculating ensemble weights:
\describe{
  \item{\code{"nnls"}}{Non-negative least squares; weights sum to 1 (default)}
  \item{\code{"bfgs"}}{BFGS optimization (for multivalued treatments only; falls back to \code{nnls} otherwise)}
  \item{\code{"singlebest"}}{Weight of 1 on the learner with the lowest RMSE}
  \item{\code{"ols"}}{Ordinary least squares regression weights (falls back to \code{nnls} for multivalued treatments)}
  \item{\code{"average"}}{Equal weights for all learners}
}}

\item{quiet}{If FALSE, progress output is printed into console.}

\item{pb}{A progress bar object to track overall computation progress.}

\item{pb_np}{String indicating the current nuisance parameter being
estimated/predicted (for progress bar updates).}
}
\value{
A list containing:
\itemize{
  \item \code{np}: A vector (or matrix for multinomial outcomes) of length N 
                   containing nuisance parameter estimates
  \item \code{models}: An object of class \code{ens.learner} containing fitted ensemble models
 }
}
\description{
\code{\link{nuisance_cf}} makes a cross-fitted ensemble prediction using
\code{\link{ensemble}}.
}
\keyword{internal}
