% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{ens_weights_maker}
\alias{ens_weights_maker}
\title{Estimate ensemble weights using various methods}
\usage{
ens_weights_maker(X, Y, ensemble_type = "nnls", subset = NULL, is_mult = FALSE)
}
\arguments{
\item{X}{For continuous/binary outcomes: a numeric matrix of predictions
with rows as observations and columns as base learners.
For multinomial outcomes: a 3D array of predictions with dimensions
\eqn{N × K × M}, where \eqn{N} is the number of observations,
\eqn{K} the number of classes, and \eqn{M} the number of learners.}

\item{Y}{A numeric vector of observed outcomes. For multinomial outcomes,
a factor or integer vector of class labels.}

\item{ensemble_type}{Method for calculating ensemble weights:
\describe{
  \item{\code{"nnls"}}{Non-negative least squares; weights sum to 1 (default)}
  \item{\code{"bfgs"}}{BFGS optimization (for multivalued treatments only; falls back to \code{nnls} otherwise)}
  \item{\code{"singlebest"}}{Weight of 1 on the learner with the lowest RMSE}
  \item{\code{"ols"}}{Ordinary least squares regression weights (falls back to \code{nnls} for multivalued treatments)}
  \item{\code{"average"}}{Equal weights for all learners}
}}

\item{subset}{Optional logical vector if only subset of data should be used.}

\item{is_mult}{Logical. Indicates whether the outcome is multinomial
(\code{TRUE}) or binary/continuous (\code{FALSE}).}
}
\value{
A numeric vector of ensemble weights.
}
\description{
Estimates ensemble weights using non-negative least squares (NNLS), BFGS 
optimization, single best learner selection, ordinary least squares (OLS), 
and simple averaging. Supports binary/continuous and multinomial outcomes. 
Weights are normalized to sum to 1 for all methods.
}
\examples{
\dontrun{
X <- matrix(c(0.2, 0.3, 0.4, 0.5, 0.6, 0.7), ncol = 2)
Y <- c(0.25, 0.45, 0.65)
ens_w <- ens_weights_maker(X = X, Y = Y)
}
}
\keyword{internal}
